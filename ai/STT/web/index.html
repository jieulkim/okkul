<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Speak English (STT)</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="container">
      <header class="header">
        <h1 class="title">영어 말하기 → STT 영어 텍스트 출력</h1>
        <p class="subtitle">
          위에는 한글 문장을 적고, 아래 버튼을 누른 뒤 영어로 말하면(마이크) 인식된 영어 텍스트가 출력됩니다.
        </p>
      </header>

      <section class="card">
        <div class="row">
          <div class="col">
            <label class="label" for="koreanInput">한글 텍스트 입력</label>
            <textarea
              id="koreanInput"
              class="textarea"
              rows="4"
              placeholder="예) 광화문 자생한방병원은 서대문역 6번 출구..."
            ></textarea>
          </div>
        </div>

        <div class="row actions">
          <button id="toggleBtn" class="btn primary" type="button">영어 말하기 시작</button>
          <button id="clearBtn" class="btn" type="button">출력 지우기</button>
          <button id="copyBtn" class="btn" type="button">복사</button>
        </div>

        <div class="row status">
          <span class="pill" id="supportPill">지원 확인 중...</span>
          <span class="pill muted" id="langPill">STT 언어: en-US</span>
          <span class="pill muted" id="statePill">상태: 대기</span>
        </div>
      </section>

      <section class="card">
        <label class="label" for="englishOutput">영어 텍스트 출력 (STT 결과)</label>
        <div class="outputWrap">
          <textarea id="englishOutput" class="textarea mono" rows="10" placeholder="여기에 STT 결과가 쌓입니다." readonly></textarea>
          <div class="hint">
            - 브라우저(STT) 특성상 정확도는 마이크/소음/발음에 따라 달라집니다.<br />
            - Chrome/Edge에서 동작이 가장 안정적입니다.
          </div>
        </div>
      </section>

      <section class="card warn" id="helpBox" hidden>
        <div class="warnTitle">STT가 동작하지 않을 때</div>
        <ul class="warnList">
          <li>HTTPS 또는 <b>localhost</b>에서 열어야 마이크 권한이 정상 동작합니다.</li>
          <li>Chrome/Edge 권장. (Firefox는 Web Speech API 지원이 제한적일 수 있어요)</li>
          <li>주소창 왼쪽 아이콘에서 마이크 권한을 <b>허용</b>했는지 확인하세요.</li>
        </ul>
      </section>

      <footer class="footer">
        <span class="foot">Local-only. No OpenAI API used.</span>
      </footer>
    </main>

    <script src="./app.js"></script>
  </body>
</html>

